-- Premium Access Prompt | Professional Edition
-- Clean UI, Minimalist, Zero Infantil

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local MarketplaceService = game:GetService("MarketplaceService")

local player = Players.LocalPlayer

local GAMEPASS_ID = 1529221276
local PREMIUM_LINK = "https://www.roblox.com/game-pass/1529221276/Premium"

-- Interface
local gui = Instance.new("ScreenGui")
gui.Name = "PremiumPrompt"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local panel = Instance.new("Frame")
panel.Size = UDim2.fromScale(0.34, 0.2)
panel.Position = UDim2.fromScale(0.5, 0.5)
panel.AnchorPoint = Vector2.new(0.5, 0.5)
panel.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
panel.BorderSizePixel = 0
panel.Parent = gui

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = panel

local outline = Instance.new("UIStroke")
outline.Color = Color3.fromRGB(160, 130, 40) -- dourado queimado
outline.Thickness = 1
outline.Transparency = 0.1
outline.Parent = panel

-- Texto Principal
local title = Instance.new("TextLabel")
title.BackgroundTransparency = 1
title.Size = UDim2.fromScale(1, 0.4)
title.Text = "Keyless Access"
title.Font = Enum.Font.GothamSemibold
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(230, 230, 230)
title.Parent = panel

-- Texto Secundário
local sub = Instance.new("TextLabel")
sub.BackgroundTransparency = 1
sub.Size = UDim2.fromScale(1, 0.25)
sub.Position = UDim2.fromScale(0, 0.35)
sub.Font = Enum.Font.Gotham
sub.TextScaled = true
sub.TextColor3 = Color3.fromRGB(150, 150, 150)
sub.Text = "Upgrade to Premium"
sub.Parent = panel

-- Botão
local btn = Instance.new("TextButton")
btn.Size = UDim2.fromScale(0.7, 0.28)
btn.Position = UDim2.fromScale(0.5, 0.75)
btn.AnchorPoint = Vector2.new(0.5, 0.5)
btn.Text = "Purchase"
btn.TextColor3 = Color3.fromRGB(240, 240, 240)
btn.TextScaled = true
btn.Font = Enum.Font.GothamBold
btn.BackgroundColor3 = Color3.fromRGB(160, 130, 40)
btn.BorderSizePixel = 0
btn.AutoButtonColor = false
btn.Parent = panel

Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

-- Animação “mordida” adulta (zoom lento e leve)
local baseSize = panel.Size

task.spawn(function()
	while task.wait(1.8) do
		local zoomIn = TweenService:Create(panel, TweenInfo.new(0.22, Enum.EasingStyle.Linear), {
			Size = baseSize + UDim2.fromScale(0.012, 0.012)
		})

		local zoomOut = TweenService:Create(panel, TweenInfo.new(0.22, Enum.EasingStyle.Linear), {
			Size = baseSize
		})

		zoomIn:Play()
		zoomIn.Completed:Wait()
		zoomOut:Play()
	end
end)

-- Hover suave
btn.MouseEnter:Connect(function()
	TweenService:Create(btn, TweenInfo.new(0.18), {
		BackgroundColor3 = Color3.fromRGB(175, 145, 55)
	}):Play()
end)

btn.MouseLeave:Connect(function()
	TweenService:Create(btn, TweenInfo.new(0.18), {
		BackgroundColor3 = Color3.fromRGB(160, 130, 40)
	}):Play()
end)

-- CLICK → Prompt de compra
btn.MouseButton1Click:Connect(function()
	local ok = pcall(function()
		MarketplaceService:PromptGamePassPurchase(player, GAMEPASS_ID)
	end)

	-- fallback
	if not ok then
		pcall(function() setclipboard(PREMIUM_LINK) end)
		btn.Text = "Copied"
		task.wait(1.2)
		btn.Text = "Purchase"
	end
end)

-- Se comprar, fecha UI (premium experience)
MarketplaceService.PromptGamePassPurchaseFinished:Connect(function(plr, id, bought)
	if plr == player and id == GAMEPASS_ID and bought then
		TweenService:Create(panel, TweenInfo.new(0.35), {
			BackgroundTransparency = 1
		}):Play()

		task.wait(0.35)
		gui:Destroy()
	end
end)
