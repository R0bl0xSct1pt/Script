-- Premium Access Prompt | Adult / Minimal / Professional

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local MarketplaceService = game:GetService("MarketplaceService")

local player = Players.LocalPlayer

local GAMEPASS_ID = 1529221276
local PREMIUM_LINK = "https://www.roblox.com/game-pass/1529221276/Premium"

-- ScreenGui
local gui = Instance.new("ScreenGui")
gui.Name = "PremiumPrompt"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Panel
local panel = Instance.new("Frame")
panel.Size = UDim2.fromScale(0.34, 0.22)
panel.Position = UDim2.fromScale(0.5, 0.5)
panel.AnchorPoint = Vector2.new(0.5, 0.5)
panel.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
panel.BorderSizePixel = 0
panel.Parent = gui

Instance.new("UICorner", panel).CornerRadius = UDim.new(0, 10)

local stroke = Instance.new("UIStroke")
stroke.Color = Color3.fromRGB(160, 130, 40)
stroke.Thickness = 1
stroke.Transparency = 0.15
stroke.Parent = panel

-- Close Button
local close = Instance.new("TextButton")
close.Size = UDim2.fromScale(0.08, 0.18)
close.Position = UDim2.fromScale(0.92, 0.08)
close.AnchorPoint = Vector2.new(0.5, 0.5)
close.Text = "×"
close.Font = Enum.Font.GothamMedium
close.TextScaled = true
close.TextColor3 = Color3.fromRGB(140, 140, 140)
close.BackgroundTransparency = 1
close.BorderSizePixel = 0
close.Parent = panel

close.MouseEnter:Connect(function()
	TweenService:Create(close, TweenInfo.new(0.15), {
		TextColor3 = Color3.fromRGB(200, 200, 200)
	}):Play()
end)

close.MouseLeave:Connect(function()
	TweenService:Create(close, TweenInfo.new(0.15), {
		TextColor3 = Color3.fromRGB(140, 140, 140)
	}):Play()
end)

close.MouseButton1Click:Connect(function()
	TweenService:Create(panel, TweenInfo.new(0.25), {
		BackgroundTransparency = 1
	}):Play()
	task.wait(0.25)
	gui:Destroy()
end)

-- Title
local title = Instance.new("TextLabel")
title.BackgroundTransparency = 1
title.Size = UDim2.fromScale(1, 0.35)
title.Text = "Keyless Access"
title.Font = Enum.Font.GothamSemibold
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(230, 230, 230)
title.Parent = panel

-- Subtitle
local sub = Instance.new("TextLabel")
sub.BackgroundTransparency = 1
sub.Size = UDim2.fromScale(1, 0.22)
sub.Position = UDim2.fromScale(0, 0.32)
sub.Font = Enum.Font.Gotham
sub.TextScaled = true
sub.TextColor3 = Color3.fromRGB(155, 155, 155)
sub.Text = "Upgrade to Premium"
sub.Parent = panel

-- Price
local price = Instance.new("TextLabel")
price.BackgroundTransparency = 1
price.Size = UDim2.fromScale(1, 0.18)
price.Position = UDim2.fromScale(0, 0.52)
price.Text = "only 200 robux"
price.Font = Enum.Font.GothamMedium
price.TextScaled = true
price.TextColor3 = Color3.fromRGB(180, 150, 60)
price.Parent = panel

-- Button
local btn = Instance.new("TextButton")
btn.Size = UDim2.fromScale(0.7, 0.26)
btn.Position = UDim2.fromScale(0.5, 0.8)
btn.AnchorPoint = Vector2.new(0.5, 0.5)
btn.Text = "Purchase"
btn.TextColor3 = Color3.fromRGB(240, 240, 240)
btn.TextScaled = true
btn.Font = Enum.Font.GothamBold
btn.BackgroundColor3 = Color3.fromRGB(160, 130, 40)
btn.BorderSizePixel = 0
btn.AutoButtonColor = false
btn.Parent = panel

Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 8)

-- Mordida adulta
local baseSize = panel.Size
task.spawn(function()
	while task.wait(1.8) do
		TweenService:Create(panel, TweenInfo.new(0.22), {
			Size = baseSize + UDim2.fromScale(0.012, 0.012)
		}):Play()
		task.wait(0.22)
		TweenService:Create(panel, TweenInfo.new(0.22), {
			Size = baseSize
		}):Play()
	end
end)

-- Hover botão
btn.MouseEnter:Connect(function()
	TweenService:Create(btn, TweenInfo.new(0.15), {
		BackgroundColor3 = Color3.fromRGB(180, 150, 60)
	}):Play()
end)

btn.MouseLeave:Connect(function()
	TweenService:Create(btn, TweenInfo.new(0.15), {
		BackgroundColor3 = Color3.fromRGB(160, 130, 40)
	}):Play()
end)

-- Compra
btn.MouseButton1Click:Connect(function()
	local ok = pcall(function()
		MarketplaceService:PromptGamePassPurchase(player, GAMEPASS_ID)
	end)

	if not ok then
		pcall(function() setclipboard(PREMIUM_LINK) end)
	end
end)

-- Fecha após compra
MarketplaceService.PromptGamePassPurchaseFinished:Connect(function(p, id, bought)
	if p == player and id == GAMEPASS_ID and bought then
		TweenService:Create(panel, TweenInfo.new(0.3), {
			BackgroundTransparency = 1
		}):Play()
		task.wait(0.3)
		gui:Destroy()
	end
end)
